{% extends 'base.html' %}
{% load static %}
{% load bootstrap4%}
{% load socialaccount %}
{% block body %}
  <div class="card" style="margin: 30px 300px 10px 300px ">
    <div class="card-body">
      <h1 class="card-title text-center">Instagram</h1>
      <form action="" method="post">
        {% csrf_token %}
        {% bootstrap_form form %}
        <input class="btn btn-primary btn-block" type="submit" value="로그인">
      </form>
      <hr>
      <p class="text-muted text-center">또는</p>
      <div class="text-center">
        <a href="{% provider_login_url 'kakao' %}"><img src="{% static 'kakao.png' %}"></a>
      </div>
    </div>
  </div>
  <div class="card" style="margin: 0px 300px;">
    <!-- 경로이름에 따라 제목 다르게 설정하는 법 -->
    {% if request.resolver_match.url_name == "login" %}
      <div class="card-body d-flex justify-content-center">
        <p class="card-text">계정이 없으신가요?</p>
        <a href="{% url 'accounts:signup' %}" class="card-link">가입하기</a>
      </div>
    {% else %}
      <div class="card-body d-flex justify-content-center">
        <p class="card-text">계정이 있으신가요?</p>
        <a href="{% url 'accounts:login' %}" class="card-link">로그인</a>
      </div>
    {% endif %}
  </div>
{% endblock %}